<div class="col-xs-12" ng-if="logueadoOHome()">
	<form class="form-horizontal">
		<fieldset>
			<legend>Cambio de contraseña</legend>
			<div class="form-group">
			    <label for="pass_old" class="col-sm-2 control-label">Contraseña anterior:</label>
			    <div class="col-sm-4">
			    	<input type="password" class="form-control" id="pass_old" placeholder="contraseña anterior" ng-model="form.PasswordOld">
		    	</div>
		  	</div>
		  	<div class="form-group">
			    <label for="pass_new" class="col-sm-2 control-label">Contraseña nueva:</label>
			    <div class="col-sm-4">
			    	<input type="password" class="form-control" id="pass_new" placeholder="contraseña nueva" ng-model="form.PasswordNew">
			    </div>
		  	</div>
		  	<div class="form-group {{ form.PasswordNew2 == form.PasswordNew ? '' :'has-error has-feedback' }}">
			    <label for="pass_new2" class="col-sm-2 control-label">Repetir contraseña nueva:</label>
			    <div class="col-sm-4">
			    	<input type="password" class="form-control" id="pass_new2" placeholder="contraseña nueva" ng-model="form.PasswordNew2">
			    	<span class="text-danger" ng-if="form.PasswordNew2 != form.PasswordNew">Las contraseñas no coinciden</span>
			    </div>
		  	</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<div ng-switch="(form.PasswordNew != null && form.PasswordNew != '' && (form.PasswordNew2 == form.PasswordNew) )">
				  		<button ng-switch-when="true" ng-click="changePassword()" class="btn btn-primary" >Cambiar Contraseña </button>
				  		<button ng-switch-when="false" class="btn btn-primary" disabled>Cambiar Contraseña </button>
				  	</div>
				</div>
			</div>
			
	  	</fieldset>
	</form>
	
	<form>
		<fieldset>
			<div class="form-group" flow-init="{singleFile: true}">
				<div class="col-sm-6">
					<label for="actual-foto-perfil" class="control-label">Foto actual:</label>
					<div class="col-sm-12">
						<img src="{{imagenPerfil}}" class="img-responsive img-thumbnail imagen-muestra">
					</div>
				</div>
				<div class="col-sm-6">
					<div class="col-xs-12"  flow-files-submitted="addImage($flow.files[0])">
						<div class="col-xs-12">
							<button class="btn btn-success" flow-btn 
								flow-attrs="{accept:'image/*'}">
								Nueva foto de perfil
							</button>
						</div>
						<div class="col-xs-12" ng-show="$flow.files.length">
							<br>
							<div class="">
								<img flow-img="$flow.files[0]" class="img-responsive img-thumbnail imagen-muestra">
								<p class="nombreAlgo">{{$flow.files[0].name}} </p>
								<p>{{$flow.files[0].size / 1000 | number : 2}} Kb</p>
								<button class="btn btn-xs btn-warning" ng-click="removeImage($flow.files[0]);">
						        	Cancelar
						        </button>
							</div>
							<br>
							<!--
							<div ng-repeat="file in $flow.files" class="">
								<img flow-img="file" class="img-responsive img-thumbnail imagen-muestra">
								<p class="nombreAlgo">{{file.name}} </p>
								<p>{{file.size / 1000 | number : 2}} Kb</p>
								<button class="btn btn-xs btn-danger" ng-click="file.cancel()">
						        	Eliminar
						        </button>
							</div>
							-->
						</div>
					</div>
				</div>
				<div class="col-xs-12">
					<div ng-switch="$flow.files.length == 1">
						<button ng-switch-when="true" type="button" class="btn btn-primary center-block" id="enviar-foto" ng-click="cambiarFotoPerfil()">Cambiar foto perfil</button>
						<button ng-switch-default type="button" class="btn btn-primary center-block disabled" id="enviar-foto">Cambiar foto perfil</button>
					</div>
				</div>
			</div>
		</fieldset>
	</form>
</div>